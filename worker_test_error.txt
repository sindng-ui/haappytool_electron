
 RUN  v4.0.15 K:/Antigravity_Projects/gitbase/happytool_electron

 ??test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should initialize stream mode on INIT_STREAM message 42ms
 ??test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should process chunk and not drop any lines 1ms
 ??test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should strip ANSI color codes from log lines 1ms
 횞 test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should filter lines using include groups (AND logic) 4ms
   ??expected 3 to be 2 // Object.is equality
 횞 test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should exclude lines matching block list 1ms
   ??expected 3 to be 1 // Object.is equality
 횞 test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should respect case sensitivity in filtering 1ms
   ??expected 3 to be 1 // Object.is equality
 ??test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should accumulate multiple chunks correctly 0ms
 횞 test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should buffer incomplete lines across chunks 1ms
   ??Cannot read properties of undefined (reading 'payload')
 ??test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should retrieve lines by index correctly 0ms
 ??test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should handle empty chunks gracefully 0ms

??렞??렞??렞??Failed Tests 4 ??렞??렞??렞??
 FAIL  test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should filter lines using include groups (AND logic)
AssertionError: expected 3 to be 2 // Object.is equality

- Expected
+ Received

- 2
+ 3

 ??test/workers/LogProcessor.worker.test.ts:162:51
    160|         const filterComplete = postedMessages.find(m => m.type === 'FI??    161|         expect(filterComplete).toBeDefined();
    162|         expect(filterComplete.payload.matchCount).toBe(2);
       |                                                   ^
    163|     });
    164| 

??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞[1/4]??
 FAIL  test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should exclude lines matching block list
AssertionError: expected 3 to be 1 // Object.is equality

- Expected
+ Received

- 1
+ 3

 ??test/workers/LogProcessor.worker.test.ts:201:51
    199|         const filterComplete = postedMessages.find(m => m.type === 'FI??    200|         expect(filterComplete).toBeDefined();
    201|         expect(filterComplete.payload.matchCount).toBe(1);
       |                                                   ^
    202|     });
    203| 

??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞[2/4]??
 FAIL  test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should respect case sensitivity in filtering
AssertionError: expected 3 to be 1 // Object.is equality

- Expected
+ Received

- 1
+ 3

 ??test/workers/LogProcessor.worker.test.ts:240:51
    238|         const filterComplete = postedMessages.find(m => m.type === 'FI??    239|         expect(filterComplete).toBeDefined();
    240|         expect(filterComplete.payload.matchCount).toBe(1);
       |                                                   ^
    241|     });
    242| 

??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞[3/4]??
 FAIL  test/workers/LogProcessor.worker.test.ts > LogProcessor Worker - Stream Mode > should buffer incomplete lines across chunks
TypeError: Cannot read properties of undefined (reading 'payload')
 ??test/workers/LogProcessor.worker.test.ts:295:31
    293|         // Should not process incomplete line yet
    294|         let filterComplete = postedMessages.find(m => m.type === 'FILT??    295|         expect(filterComplete.payload.totalLines).toBe(0);
       |                               ^
    296| 
    297|         postedMessages = [];

??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞??렞[4/4]??

 Test Files  1 failed (1)
      Tests  4 failed | 6 passed (10)
   Start at  04:32:49
   Duration  903ms (transform 56ms, setup 73ms, import 37ms, tests 51ms, environment 533ms)

